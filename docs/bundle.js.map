{
  "version": 3,
  "sources": ["../node_modules/performance-now/src/performance-now.coffee", "../node_modules/raf/index.js", "../node_modules/get-scrollmax-y/dist/get-scrollmax-y-cjs.js", "../node_modules/global/window.js", "../node_modules/global/document.js", "../index.js", "demo.js"],
  "sourcesContent": ["if performance? and performance.now\n  module.exports = -> performance.now()\nelse if process? and process.hrtime\n  module.exports = -> (getNanoSeconds() - nodeLoadTime) / 1e6\n  hrtime = process.hrtime\n  getNanoSeconds = ->\n    hr = hrtime()\n    hr[0] * 1e9 + hr[1]\n  moduleLoadTime = getNanoSeconds()\n  upTime = process.uptime() * 1e9\n  nodeLoadTime = moduleLoadTime - upTime\nelse if Date.now\n  module.exports = -> Date.now() - loadTime\n  loadTime = Date.now()\nelse\n  module.exports = -> new Date().getTime() - loadTime\n  loadTime = new Date().getTime()\n", "var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n", "/*!\n * get-scrollmax-y.js | MIT (c) Shinnosuke Watanabe\n * https://github.com/shinnn/get-scrollmax-y.js\n*/\n'use strict';\n\nvar getScrollMaxY;\n\nif (typeof window.scrollMaxY === 'number') {\n  getScrollMaxY = function()  {return window.scrollMaxY};\n} else {\n  var body = document.body, html = document.documentElement;\n\n  var getInnerHeight;\n\n  if (typeof window.innerHeight === 'number') {\n    getInnerHeight = function()  {return window.innerHeight};\n  } else {\n    getInnerHeight = function()  {return html.clientHeight || body.clientHeight};\n  }\n\n  var getScrollHeight = function()  {return Math.max(\n    body.scrollHeight,\n    body.offsetHeight,\n    html.clientHeight,\n    html.scrollHeight\n  )};\n\n  getScrollMaxY = function()  {return getScrollHeight() - getInnerHeight()};\n}\n\nmodule.exports = getScrollMaxY;\n", "var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n", "var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n", "import requestAnimationFrame from 'raf'\nimport getMaxY from 'get-scrollmax-y'\nimport window from 'global/window.js'\nimport document from 'global/document.js'\n\nconst animateOnScroll = (animations) => {\n\tfor (let i = 0; i < animations.length; i++) {\n\t\tconst a = animations[i]\n\t\tif ('number' !== typeof a.from) a.from = 0\n\t\tif ('number' !== typeof a.to) a.to = 1\n\t\tif ('function' !== typeof a.fn) {\n\t\t\tthrow new Error(`animation ${i} has no function`)\n\t\t}\n\t}\n\n\tlet lastY = NaN\n\tlet calls = 0\n\tconst update = () => {\n\t\tlet y = window.pageYOffset\n\t\tif (y === undefined) {\n\t\t\ty = (document.documentElement || document.body.parentNode || document.body).scrollTop\n\t\t}\n\n\t\tif (y !== lastY) {\n\t\t\tlastY = y\n\t\t\tconst maxY = getMaxY()\n\t\t\tconst p = maxY > 0 ? y / maxY : 0\n\n\t\t\tfor (let a of animations) {\n\t\t\t\tif (p < a.from) a.fn(0, y, maxY)\n\t\t\t\telse if (p > a.to) a.fn(1, y, maxY)\n\t\t\t\telse a.fn((p - a.from) / (a.to - a.from), y, maxY)\n\t\t\t}\n\t\t}\n\n\t\tif (++calls < 100) requestAnimationFrame(update)\n\t}\n\n\twindow.addEventListener('scroll', () => {\n\t\tif (calls >= 100) requestAnimationFrame(update)\n\t\tcalls = 0\n\t})\n\n\trequestAnimationFrame(update)\n}\n\nexport {\n\tanimateOnScroll,\n}\n", "import {animateOnScroll as animate} from '../index.js'\n\nconst parallax = (el, i) => {\n\t// const x = i % 2 === 0 ? 300 : 200\n\tconst frame = (percentage) => {\n\t\t// const shift = x * percentage\n\t\tconst shift = percentage * 200\n\t\tel.style.transform = `translate3d(0, ${shift}px, 0)`\n\t}\n\treturn frame\n}\n\nconst animations = []\nconst sections = Array.from(document.querySelectorAll('.section'))\nfor (let i = 0; i < sections.length; i++) {\n\tconst animation = parallax(sections[i], i)\n\tanimations.push({fn: animation})\n}\n\nanimate(animations)\n"],
  "mappings": "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",
  "names": ["getNanoSeconds", "hrtime", "loadTime", "moduleLoadTime", "nodeLoadTime", "upTime", "module", "hr", "require_raf", "__commonJSMin", "exports", "module", "now", "root", "vendors", "suffix", "raf", "caf", "i", "last", "id", "queue", "frameDuration", "callback", "_now", "next", "cp", "e", "handle", "fn", "object", "require_get_scrollmax_y_cjs", "__commonJSMin", "exports", "module", "getScrollMaxY", "body", "html", "getInnerHeight", "getScrollHeight", "require_window", "__commonJSMin", "exports", "module", "win", "require_document", "__commonJSMin", "exports", "module", "topLevel", "minDoc", "doccy", "import_raf", "import_get_scrollmax_y", "import_window", "import_document", "animateOnScroll", "animations", "i", "a", "lastY", "calls", "update", "y", "window", "document", "maxY", "getMaxY", "p", "requestAnimationFrame", "parallax", "el", "i", "percentage", "shift", "animations", "sections", "animation", "animateOnScroll"]
}
